# 视频压缩 App 产品需求文档

## 一、产品定位

**定位**：一款简洁高效的视频压缩工具，帮助用户快速减小视频体积，便于分享和存储。

**目标用户**：
- 需要压缩视频以便于分享的用户
- 存储空间不足需要清理视频的用户
- 视频创作者需要导出不同清晰度的用户

---

## 二、功能清单

### 2.1 核心功能

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 本地视频压缩 | P0 | 选择本地视频进行压缩 |
| 批量压缩 | P0 | 一次选择多个视频批量处理 |
| 压缩质量设置 | P0 | 低/中/高三档 + 自定义 |
| 分辨率设置 | P0 | 720P/1080P/原分辨率/自定义 |
| 压缩进度显示 | P0 | 实时显示压缩百分比 |
| 远程视频压缩 | P1 | 通过 URL 下载后压缩 |

### 2.2 扩展功能

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 压缩预设 | P1 | 预设配置：微信/抖音/邮件等场景 |
| 压缩历史 | P2 | 记录压缩历史，方便查找 |
| 压缩前后对比 | P2 | 显示压缩前后大小对比 |
| 视频预览 | P1 | 压缩前后可预览视频 |
| 输出目录设置 | P1 | 自定义压缩后视频保存位置 |
| 压缩后自动分享 | P2 | 压缩完成直接跳转分享 |

### 2.3 辅助功能

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 深色主题 | P0 | 黑色为主、蓝色为辅 |
| 多语言支持 | P2 | 中英文切换 |
| 视频信息展示 | P1 | 显示分辨率、时长、大小、编码 |
| 压缩取消 | P1 | 支持中断压缩任务 |
| 错误提示 | P1 | 压缩失败时给出原因和建议 |

---

## 三、功能详细说明

### 3.1 本地视频压缩

**入口**：首页 → 选择视频 → 配置参数 → 开始压缩

**流程**：
1. 点击「选择视频」按钮
2. 系统文件选择器打开，支持多选
3. 选择后进入压缩配置页面
4. 配置质量和分辨率
5. 点击「开始压缩」
6. 显示压缩进度
7. 压缩完成展示结果

**交互细节**：
- 视频缩略图展示
- 预估压缩后大小
- 压缩前可预览原视频

### 3.2 批量压缩

**流程**：
1. 选择多个视频
2. 配置统一压缩参数
3. 加入压缩队列
4. 依次执行压缩
5. 显示队列进度（如 2/5）

**队列管理**：
- 支持查看队列列表
- 支持取消单个任务
- 支持全部暂停/继续

### 3.3 压缩质量设置

**预设档位**：

| 档位 | 码率 | 适用场景 |
|------|------|----------|
| 低 | 1 Mbps | 聊天软件发送 |
| 中 | 2.5 Mbps | 日常分享 |
| 高 | 5 Mbps | 保留较好画质 |
| 原画质 | 保持原码率 | 仅调整分辨率 |

**自定义参数**：
- 视频码率：100kbps - 50Mbps
- 音频码率：64kbps - 320kbps
- 帧率：15/24/30/60 fps
- 编码器：H.264 / H.265

### 3.4 分辨率设置

**预设选项**：

| 分辨率 | 说明 |
|--------|------|
| 480P | 854×480 |
| 720P | 1280×720 |
| 1080P | 1920×1080 |
| 原分辨率 | 保持不变 |
| 自定义 | 用户输入宽高 |

**智能建议**：
- 若原视频 < 720P，建议保持原分辨率
- 若原视频 > 1080P，建议压缩至 1080P

### 3.5 远程视频压缩

**支持格式**：
- 直链视频 URL（mp4/mov/avi 等）
- 常见视频平台链接（待定）

**流程**：
1. 输入视频 URL
2. 解析视频信息
3. 下载到本地临时目录
4. 进入压缩流程
5. 压缩完成后可选择删除原文件

**注意事项**：
- 下载进度单独显示
- 支持断点续传
- 大文件提示 WiFi 下载

### 3.6 压缩进度显示

**进度信息**：
- 当前百分比
- 已处理时长 / 总时长
- 预估剩余时间
- 当前处理速度

**进度条样式**：
- 圆形进度条（压缩中）
- 线性进度条（批量压缩列表）

### 3.7 压缩历史

**记录内容**：
- 原文件名
- 压缩时间
- 压缩前后大小
- 压缩参数
- 输出路径

**操作**：
- 查看压缩后视频
- 删除记录
- 使用相同参数再次压缩

---

## 四、UI 设计规范

### 4.1 配色方案

| 元素 | 颜色 | 色值 |
|------|------|------|
| 主背景 | 深黑色 | #0D0D0D |
| 次背景 | 深灰色 | #1A1A1A |
| 卡片背景 | 灰黑色 | #262626 |
| 主色调 | 蓝色 | #2196F3 |
| 辅助蓝 | 浅蓝色 | #64B5F6 |
| 文字主色 | 白色 | #FFFFFF |
| 文字次色 | 灰色 | #B3B3B3 |
| 成功色 | 绿色 | #4CAF50 |
| 错误色 | 红色 | #F44336 |
| 警告色 | 橙色 | #FF9800 |

### 4.2 页面结构

```
┌─────────────────────────────┐
│         顶部标题栏           │
├─────────────────────────────┤
│                             │
│         主内容区域           │
│                             │
│                             │
├─────────────────────────────┤
│  本地压缩  │  远程压缩  │ 设置 │
└─────────────────────────────┘
```

### 4.3 主要页面

1. **首页**：视频选择入口 + 最近压缩记录
2. **压缩配置页**：参数设置
3. **压缩进行页**：进度展示
4. **压缩结果页**：结果展示 + 操作按钮
5. **历史页**：压缩历史列表
6. **设置页**：应用设置

---

## 五、非功能需求

### 5.1 性能要求

| 指标 | 要求 |
|------|------|
| 压缩速度 | 1080P 视频压缩比 > 1:10（实时） |
| 内存占用 | 压缩时峰值 < 500MB |
| 启动时间 | < 2s |
| 崩溃率 | < 0.1% |

### 5.2 兼容性

| 平台 | 最低版本 |
|------|----------|
| Android | 5.0 (API 21) |
| iOS | 12.0 |

### 5.3 支持格式

**输入格式**：
- MP4, MOV, AVI, MKV, FLV, WMV, WebM, 3GP

**输出格式**：
- MP4 (H.264/H.265)

---

## 六、数据指标

| 指标 | 目标 |
|------|------|
| 压缩成功率 | > 95% |
| 平均压缩比 | > 50% |
| 用户完成率 | > 80% |
